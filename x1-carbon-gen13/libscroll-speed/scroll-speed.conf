# /etc/scroll-speed.conf — libscroll-speed v2.1 設定ファイル
#
# 非線形タッチパッドスクロールカーブ（macOS風）
#
# 変換式（Hill関数 + low-cut フィルタ）:
#   f(d) = base-speed × scroll-cap × x^n / (1 + x^n)  ×  d^4 / (t^4 + d^4)
#   ただし x = |d| / scroll-cap,  n = ramp-softness,  t = low-cut
#
# 特徴:
#   - ramp-softness > 1 で低速域を抑制しつつ高速域は維持
#   - low-cut > 0 で繊細な指の動き（慣性末端）をさらに抑制
#   - chrome-scroll-factor でコンポジタ側からアプリ別倍率を適用
#
# 現在のパラメータでの出力値（Chrome以外のアプリ）:
#   delta= 2 → 0.20   繊細な指の動き（low-cutで抑制）
#   delta= 5 → 1.47   低速スクロール — 位置合わせ
#   delta= 8 → 2.85   中低速 — さっと指を滑らせる
#   delta=10 → 3.90   軽い弾き
#   delta=15 → 6.10   速い弾き
#   delta=20 → 7.76   強い弾き
#   天井     → 15.96  絶対上限 (= base-speed × scroll-cap)
#
# Chrome には chrome-scroll-factor が適用されるため上記の約38%の値になる。

# 全体感度。最大出力 = base-speed × scroll-cap
base-speed=0.76

# ソフトな速度上限。d = scroll-cap のとき出力は最大値の50%
scroll-cap=21.0

# カーブ形状指数。>1 で低速域を抑制、高速域はほぼ変わらない
# 1.0=加速感なし（均一gain減少）、1.65=低速を大幅に抑えて高速を活かす
ramp-softness=1.65

# 低域カット閾値（delta単位、0=無効）
# 繊細な指の動き（delta < t）を n=4 Hill フィルタで追加抑制
low-cut=1.8

# マウスホイールの線形倍率（1.0=変更なし）
discrete-scroll-factor=1.0

# Chrome/Chromium コンポジタ側スクロール倍率（1.0=変更なし）
# Mutter API でフォーカスウィンドウの PID を検出し、Chrome プロセスの場合に適用。
# Chrome は同じ wl_pointer.axis 値でも他アプリより大きくスクロールするため、
# この倍率で補正して Firefox/VSCode 等と体感を揃える。
chrome-scroll-factor=0.376
